(this["webpackJsonptraining-code"]=this["webpackJsonptraining-code"]||[]).push([[0],{106:function(e,t,n){},108:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(16),s=n.n(a),l=(n(106),n(107),n(108),n(27)),i=n(22),r=n(97),o=n(139),u=n(47),j=Object(u.b)({name:"CRUDSlice",initialState:{listMeals:[]},reducers:{addNewMeal:function(e,t){e.listMeals.push(t.payload)},deleteMeal:function(e,t){var n=e.listMeals.filter((function(e,n){return n!==t.payload}));e.listMeals=n},editMeal:function(e,t){var n=t.payload.indexOfMeal;e.listMeals[n].nameOfMeal=t.payload.nameOfMeal,e.listMeals[n].count=t.payload.count}}}),d=j.actions,b=j.reducer,O=n(4);var f=function(e){var t=e.indexOfMeal,n=e.nameOfMeal,a=e.countOfMeal,s=Object(l.b)(),u=Object(c.useState)(!1),j=Object(i.a)(u,2),b=j[0],f=j[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("a",{onClick:function(){f(!0)},children:"Delete"}),Object(O.jsxs)(o.a,{className:"popup",title:"Delete",visible:b,onOk:function(){s(d.deleteMeal(t)),r.b.success({content:"delete ".concat(n," with count is ").concat(a," succesful"),style:{marginLeft:1e3,fontSize:20}}),f(!1)},okText:"Delete",onCancel:function(){f(!1)},children:["Are you want to delete '",n,"' with the count is ",a," ?"]})]})},h=n(43),p=n.n(h),x=n(61),m=n(138),g=n(62),v=n.n(g);var M=function(e){var t=e.indexOfMeal,n=e.nameOfMeal,a=e.countOfMeal,s=Object(l.b)(),u=Object(c.useState)(n),j=Object(i.a)(u,2),b=j[0],f=j[1],h=Object(c.useState)(!1),g=Object(i.a)(h,2),M=g[0],w=g[1],C=Object(c.useState)(!1),k=Object(i.a)(C,2),y=k[0],S=k[1],N=Object(c.useState)(!1),D=Object(i.a)(N,2),F=D[0],A=D[1],P=function(e){return new Promise((function(t){v.a.get("".concat("https://www.themealdb.com/api/json/v1/1/search.php?s=").concat(e)).then((function(e){t(e.data.meals)}))}))},R=function(){var e=Object(x.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!1),S(!1),n=0,""!=b.replace(/\s/g,"")){e.next=7;break}S(!0),e.next=11;break;case 7:return S(!1),e.next=10,P(b);case 10:n=e.sent;case 11:A(null==n),""!=b.replace(/\s/g,"")&&null!==n&&(s(d.editMeal({indexOfMeal:t,nameOfMeal:b,count:n.length})),c=n.length,r.b.success({content:"Update ".concat(b," with count is ").concat(c," succesful"),style:{marginLeft:1e3,fontSize:20}}),w(!1));case 13:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("a",{onClick:function(){f(n),A(!1),S(!1),w(!0)},children:"Edit"}),Object(O.jsxs)(o.a,{className:"popup",title:"Edit meal",visible:M,onOk:R,okText:"Update",onCancel:function(){w(!1)},children:[Object(O.jsx)(m.a,{onChange:function(e){f(e.target.value)},value:b||""}),0==F&&0==y&&Object(O.jsxs)("div",{children:["This count is ",a]}),y&&Object(O.jsx)("p",{children:"Please enter input"})," ",F&&Object(O.jsx)("p",{children:"Count of that meal is 0, please enter another"})]})]})};n(134);var w=function(e){var t=Object(l.c)((function(e){return e.CRUDReducer.listMeals}));return console.log(t),Object(O.jsx)(O.Fragment,{children:t.length>0?Object(O.jsxs)("table",{className:"listmeals",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"listmeals--header",children:[Object(O.jsx)("th",{children:"No"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Count"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{className:"listmeals--body",children:t.map((function(e,t){return Object(O.jsxs)("tr",{className:t%2==0?"gray":"white",children:[Object(O.jsx)("td",{children:t+1}),Object(O.jsx)("td",{children:e.nameOfMeal}),Object(O.jsx)("td",{children:e.count}),Object(O.jsxs)("td",{children:[Object(O.jsx)(M,{indexOfMeal:t,nameOfMeal:e.nameOfMeal,countOfMeal:e.count}),"|",Object(O.jsx)(f,{indexOfMeal:t,nameOfMeal:e.nameOfMeal,countOfMeal:e.count})]})]},t)}))})]}):Object(O.jsx)("h2",{children:"Click Add button to add new meal"})})};n(135);var C=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],s=n[1],u=Object(c.useState)(""),j=Object(i.a)(u,2),b=j[0],f=j[1],h=Object(l.b)(),g=Object(c.useState)(!1),M=Object(i.a)(g,2),w=M[0],C=M[1],k=Object(c.useState)(!1),y=Object(i.a)(k,2),S=y[0],N=y[1],D=function(e){return new Promise((function(t){v.a.get("".concat("https://www.themealdb.com/api/json/v1/1/search.php?s=").concat(e)).then((function(e){t(e.data.meals)}))}))},F=function(){var e=Object(x.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!1),C(!1),t=0,console.log(b),console.log(typeof b),""!=b.replace(/\s/g,"")){e.next=9;break}C(!0),e.next=13;break;case 9:return e.next=11,D(b);case 11:t=e.sent,C(!1);case 13:N(null==t),""!=(null===b||void 0===b?void 0:b.replace(/\s/g,""))&&null!==t&&(h(d.addNewMeal({nameOfMeal:b,count:t.length})),n=t.length,r.b.success({content:"Add ".concat(b," with count is ").concat(n," succesful"),style:{marginLeft:1e3,fontSize:20}}),s(!1));case 15:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:function(){f(""),N(!1),C(!1),s(!0)},children:"Add new"}),Object(O.jsxs)(o.a,{className:"popup",title:"Add new",visible:a,onOk:F,okText:"ADD",onCancel:function(){s(!1)},children:[Object(O.jsx)("div",{children:"Input the meal name will count"}),Object(O.jsx)(m.a,{onChange:function(e){f(e.target.value)},value:b||""}),w?Object(O.jsx)("p",{children:"Please enter input"}):S?Object(O.jsx)("p",{children:"Count of that meal is 0, please enter another"}):Object(O.jsx)(O.Fragment,{})]})]})};var k=function(){return Object(O.jsxs)("div",{className:"crud-app",children:[Object(O.jsx)("h1",{children:"CRUD app"}),Object(O.jsx)(C,{}),Object(O.jsx)(w,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),s(e),l(e)}))},S=n(99),N=n(96),D=n.n(N),F=n(21),A=Object(F.b)({CRUDReducer:b}),P=[].concat(Object(S.a)(Object(u.c)()),[D.a]),R=Object(u.a)({reducer:A,middleware:P});s.a.render(Object(O.jsx)(l.a,{store:R,children:Object(O.jsx)(k,{})}),document.getElementById("root")),y()}},[[136,1,2]]]);
//# sourceMappingURL=main.d6d923ea.chunk.js.map